
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.2.1">
    
    
      
        <title>@spfxappdev/storage</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.e8d9bf0c.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#spfxappdevstorage" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        <aside class="md-banner md-banner--warning">
          
        </aside>
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="@spfxappdev/storage" class="md-header__button md-logo" aria-label="@spfxappdev/storage" data-md-component="logo">
      
  <img src="https://spfx-app.dev/_next/image?url=https%3A%2F%2Fcdn.hashnode.com%2Fres%2Fhashnode%2Fimage%2Fupload%2Fv1629447472494%2FdGmmXf-Id.png%3Fw%3D1000%26h%3D250%26fit%3Dcrop%26crop%3Dentropy%26auto%3Dcompress%2Cformat%26format%3Dwebp&w=1080&q=75" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            @spfxappdev/storage
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Home
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/SPFxAppDev/storagecache/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  


  <li class="md-tabs__item">
    <a href="." class="md-tabs__link md-tabs__link--active">
      Home
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="@spfxappdev/storage" class="md-nav__button md-logo" aria-label="@spfxappdev/storage" data-md-component="logo">
      
  <img src="https://spfx-app.dev/_next/image?url=https%3A%2F%2Fcdn.hashnode.com%2Fres%2Fhashnode%2Fimage%2Fupload%2Fv1629447472494%2FdGmmXf-Id.png%3Fw%3D1000%26h%3D250%26fit%3Dcrop%26crop%3Dentropy%26auto%3Dcompress%2Cformat%26format%3Dwebp&w=1080&q=75" alt="logo">

    </a>
    @spfxappdev/storage
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/SPFxAppDev/storagecache/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Home
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        Home
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    Usage
  </a>
  
    <nav class="md-nav" aria-label="Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-import-the-storage-classes-into-your-project" class="md-nav__link">
    1. Import the storage class(es) into your project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-you-can-create-an-instance-now" class="md-nav__link">
    2. You can create an instance now.
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-setget-data" class="md-nav__link">
    3. Set/Get Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-get-data-or-set-data-with-callback-function-if-not-available" class="md-nav__link">
    4. Get data or set data with callback function if not available
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-custom-settings" class="md-nav__link">
    5. Custom settings
  </a>
  
    <nav class="md-nav" aria-label="5. Custom settings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#options-istoragesettings" class="md-nav__link">
    Options (IStorageSettings)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#options-istorageurlparameters" class="md-nav__link">
    Options (IStorageUrlParameters)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#override-default-settings-per-instance" class="md-nav__link">
    Override default settings per instance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#override-default-settings-globally" class="md-nav__link">
    Override default settings globally
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api" class="md-nav__link">
    API
  </a>
  
    <nav class="md-nav" aria-label="API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#constructor" class="md-nav__link">
    constructor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set" class="md-nav__link">
    set
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get" class="md-nav__link">
    get
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove" class="md-nav__link">
    remove
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clear" class="md-nav__link">
    clear
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exists" class="md-nav__link">
    exists
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getstoragekeys" class="md-nav__link">
    getStorageKeys
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decorators" class="md-nav__link">
    Decorators
  </a>
  
    <nav class="md-nav" aria-label="Decorators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-use-decorators" class="md-nav__link">
    How to use decorators
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sessioncache" class="md-nav__link">
    @sessionCache
  </a>
  
    <nav class="md-nav" aria-label="@sessionCache">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#options-isessionstoragedecoratoroptionst" class="md-nav__link">
    Options (ISessionStorageDecoratorOptions&lt;T&gt;)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#localcache" class="md-nav__link">
    @localCache
  </a>
  
    <nav class="md-nav" aria-label="@localCache">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#options-ilocalstoragedecoratoroptionst" class="md-nav__link">
    Options (ILocalStorageDecoratorOptions&lt;T&gt;)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clearsessioncache" class="md-nav__link">
    @clearSessionCache
  </a>
  
    <nav class="md-nav" aria-label="@clearSessionCache">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#options-iclearsessionstoragedecoratoroptions" class="md-nav__link">
    Options (IClearSessionStorageDecoratorOptions)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clearlocalcache" class="md-nav__link">
    @clearLocalCache
  </a>
  
    <nav class="md-nav" aria-label="@clearLocalCache">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#options-iclearlocalstoragedecoratoroptions" class="md-nav__link">
    Options (IClearLocalStorageDecoratorOptions)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keyfunction" class="md-nav__link">
    KeyFunction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decorator-examples" class="md-nav__link">
    Decorator examples
  </a>
  
    <nav class="md-nav" aria-label="Decorator examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#simple-local-cache-decorator-example" class="md-nav__link">
    Simple local cache decorator example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-cache-decorator-with-key-prefix" class="md-nav__link">
    Local cache decorator with key prefix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assign-properties-to-class-via-sourceobj" class="md-nav__link">
    Assign properties to class via sourceObj
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assign-properties-to-class-via-convertfromcache-method" class="md-nav__link">
    Assign properties to class via convertFromCache-method
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clear-session-cache" class="md-nav__link">
    Clear session cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clearlocalcache-combined-with-localcache" class="md-nav__link">
    @clearLocalCache combined with @localCache
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clear-storage-via-url-parameters" class="md-nav__link">
    Clear storage via URL parameters
  </a>
  
    <nav class="md-nav" aria-label="Clear storage via URL parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delete-all-via-url" class="md-nav__link">
    Delete all via URL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove-only-specific-values-via-url" class="md-nav__link">
    Remove only specific values via URL
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/SPFxAppDev/storagecache/edit/master/docs/index.md" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>



<h1 id="spfxappdevstorage">@spfxappdev/storage<a class="headerlink" href="#spfxappdevstorage" title="Permanent link">&para;</a></h1>
<hr />
<p><img alt="npm" src="https://img.shields.io/npm/v/@spfxappdev/storage" /> <img alt="npm bundle size" src="https://img.shields.io/bundlephobia/min/@spfxappdev/storage" /> <img alt="npm" src="https://img.shields.io/npm/dm/@spfxappdev/storage" /></p>
<p><code>@spfxappdev/storage</code> is a library to handle the javascript <code>localStorage</code> and <code>sessionStorage</code> in a simple way. It comes with a built-in expiration logic (per default <code>60 minutes</code>).
It is possible to delete the entire storage or only a specific one via URL parameters. The included decorators simplify the application and keep the code short and simple, because you only have to implement the logic (of your method) itself and not the caching (see <a href="#decorators">decorators section</a>).</p>
<h2 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">&para;</a></h2>
<hr />
<p><code>npm i @spfxappdev/storage</code></p>
<h2 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">&para;</a></h2>
<hr />
<p>Depending on which type of caching you want to use (<a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage">localStorage</a> or <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage">sessionStorage</a>) you must first import the class(es).
But regardless of the type, the logic and handling is the same for both classes.</p>
<h3 id="1-import-the-storage-classes-into-your-project">1. Import the storage class(es) into your project<a class="headerlink" href="#1-import-the-storage-classes-into-your-project" title="Permanent link">&para;</a></h3>
<hr />
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="k">import</span> <span class="p">{</span> <span class="nx">LocalStorage</span><span class="p">,</span> <span class="nx">SessionStorage</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@spfxappdev/storage&#39;</span><span class="p">;</span>
</code></pre></div>
<h3 id="2-you-can-create-an-instance-now">2. You can create an instance now.<a class="headerlink" href="#2-you-can-create-an-instance-now" title="Permanent link">&para;</a></h3>
<hr />
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="kd">const</span> <span class="nx">sessionCache</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">SessionStorage</span><span class="p">();</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="kd">const</span> <span class="nx">localCache</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">LocalStorage</span><span class="p">();</span>
</code></pre></div>
<h3 id="3-setget-data">3. Set/Get Data<a class="headerlink" href="#3-setget-data" title="Permanent link">&para;</a></h3>
<hr />
<div class="highlight"><span class="filename">Set/Get Data Example</span><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nx">sessionCache</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;mySessionStorageKey&quot;</span><span class="p">,</span> <span class="s2">&quot;mySessionStorageValue&quot;</span><span class="p">);</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="kd">let</span> <span class="nx">dataFromCache</span> <span class="o">=</span> <span class="nx">sessionCache</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;mySessionStorageKey&quot;</span><span class="p">);</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">dataFromCache</span><span class="p">);</span> <span class="c1">//RESULT: mySessionStorageValue</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="kd">const</span> <span class="nx">myObj</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;@spfxappdev/storage&#39;</span><span class="p">,</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>    <span class="nx">install</span><span class="o">:</span> <span class="s1">&#39;npm i @spfxappdev/storage&#39;</span><span class="p">,</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>    <span class="nx">author</span><span class="o">:</span> <span class="s1">&#39;SPFxAppDev&#39;</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="p">};</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="nx">localCache</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;myLocalStorageKey&quot;</span><span class="p">,</span> <span class="nx">myObj</span><span class="p">);</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myObj</span><span class="p">);</span> <span class="c1">//RESULT: (1)</span>
</code></pre></div>
<ol>
<li><code>{    name: '@spfxappdev/storage',
    install: 'npm i @spfxappdev/storage',
    author: 'SPFxAppDev'
}</code></li>
</ol>
<h3 id="4-get-data-or-set-data-with-callback-function-if-not-available">4. Get data or set data with callback function if not available<a class="headerlink" href="#4-get-data-or-set-data-with-callback-function-if-not-available" title="Permanent link">&para;</a></h3>
<hr />
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="kd">let</span> <span class="nx">dataFromCache</span> <span class="o">=</span> <span class="nx">localCache</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;myLocalStorageKey&quot;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>    <span class="c1">//Note: (1) </span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>    <span class="k">return</span> <span class="p">{</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>        <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;@spfxappdev/storage&#39;</span><span class="p">,</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>        <span class="nx">install</span><span class="o">:</span> <span class="s1">&#39;npm i @spfxappdev/storage&#39;</span><span class="p">,</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>        <span class="nx">author</span><span class="o">:</span> <span class="s1">&#39;SPFxAppDev&#39;</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>    <span class="p">};</span> 
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="p">});</span>
</code></pre></div>
<ol>
<li>If the storage key does not exist or the cache has expired, the <code>callback</code> function is executed. The return value of this <code>callback</code> function is used to store the <code>value</code> in the cache with the specified <code>key</code>.</li>
</ol>
<h3 id="5-custom-settings">5. Custom settings<a class="headerlink" href="#5-custom-settings" title="Permanent link">&para;</a></h3>
<hr />
<p>The constructor of both classes <code>LocalStorage</code> and <code>SessionStorage</code> can be given additional configuration options.</p>
<h4 id="options-istoragesettings">Options (<code>IStorageSettings</code>)<a class="headerlink" href="#options-istoragesettings" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>UrlParameter</code></td>
<td><code>IStorageUrlParameters</code></td>
<td>Yes</td>
<td>Settings for clearing cache via URL parameters. See the section <a href="#clear-storage-via-url-parameters">Clear storage via URL parameters</a></td>
<td><code>{ RefreshAll: 'ResetCache', RefreshOnly: 'ResetOnly' }</code></td>
</tr>
<tr>
<td><code>DefaultTimeToLife</code></td>
<td><code>number</code></td>
<td>Yes</td>
<td>The <code>timeToLife</code> option determines when the cache should expire (in minutes).</td>
<td><code>60</code></td>
</tr>
<tr>
<td><code>KeyPrefix</code></td>
<td><code>string</code></td>
<td>Yes</td>
<td>The prefix that is inserted before the <code>cacheKey</code></td>
<td><code>SPFxAppDev_</code></td>
</tr>
</tbody>
</table>
<h4 id="options-istorageurlparameters">Options (<code>IStorageUrlParameters</code>)<a class="headerlink" href="#options-istorageurlparameters" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>RefreshAll</code></td>
<td><code>string</code></td>
<td>Yes</td>
<td>The name of the URL parameter that should clear all stored values from the cache</td>
</tr>
<tr>
<td><code>RefreshOnly</code></td>
<td><code>string</code></td>
<td>Yes</td>
<td>The name of the URL parameter that should clear one or more specified keys from the cache</td>
</tr>
</tbody>
</table>
<h4 id="override-default-settings-per-instance">Override default settings per instance<a class="headerlink" href="#override-default-settings-per-instance" title="Permanent link">&para;</a></h4>
<hr />
<p>If you want to override the default settings per instance, you can do it like this:</p>
<div class="highlight"><span class="filename">Override default settings per instance</span><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kd">const</span> <span class="nx">sessionCache</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">SessionStorage</span><span class="p">({</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>    <span class="nx">UrlParameter</span><span class="o">:</span> <span class="p">{</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>        <span class="nx">RefreshAll</span><span class="o">:</span> <span class="s1">&#39;ResetCacheSession&#39;</span><span class="p">,</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>        <span class="nx">RefreshOnly</span><span class="o">:</span> <span class="s1">&#39;ResetSessionOnly&#39;</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>    <span class="p">},</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>    <span class="nx">DefaultTimeToLife</span>: <span class="kt">30</span><span class="p">,</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>    <span class="nx">KeyPrefix</span><span class="o">:</span> <span class="s1">&#39;SPFxAppDevSession_&#39;</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="p">});</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="kd">const</span> <span class="nx">localCache</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">LocalStorage</span><span class="p">({</span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>    <span class="nx">UrlParameter</span><span class="o">:</span> <span class="p">{</span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>        <span class="nx">RefreshAll</span><span class="o">:</span> <span class="s1">&#39;ResetCacheLocal&#39;</span><span class="p">,</span>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>        <span class="nx">RefreshOnly</span><span class="o">:</span> <span class="s1">&#39;ResetLocalOnly&#39;</span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a>    <span class="p">},</span>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>    <span class="nx">DefaultTimeToLife</span>: <span class="kt">120</span><span class="p">,</span>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a>    <span class="nx">KeyPrefix</span>: <span class="kt">LocalStorage.DefaultSettings.KeyPrefix</span> <span class="c1">// (1)</span>
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a><span class="p">});</span>
</code></pre></div>
<ol>
<li>Use the default value of <code>LocalStorage</code> if you do not want to overwrite it</li>
</ol>
<h4 id="override-default-settings-globally">Override default settings globally<a class="headerlink" href="#override-default-settings-globally" title="Permanent link">&para;</a></h4>
<hr />
<p>If you want to override the default settings, you can do it like this:</p>
<div class="highlight"><span class="filename">Override default settings globally</span><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="kd">const</span> <span class="nx">defaultLocalStorageSettingsOverride</span>: <span class="kt">IStorageSettings</span>  <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>    <span class="nx">UrlParameter</span><span class="o">:</span> <span class="p">{</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>        <span class="nx">RefreshAll</span><span class="o">:</span> <span class="s1">&#39;ResetCacheLocal&#39;</span><span class="p">,</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>        <span class="nx">RefreshOnly</span><span class="o">:</span> <span class="s1">&#39;ResetLocalOnly&#39;</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>    <span class="p">},</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>    <span class="nx">DefaultTimeToLife</span>: <span class="kt">120</span><span class="p">,</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>    <span class="nx">KeyPrefix</span><span class="o">:</span> <span class="s1">&#39;SPFxAppDevLocal_&#39;</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="p">};</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="nx">LocalStorage</span><span class="p">.</span><span class="nx">DefaultSettings</span> <span class="o">=</span> <span class="nx">defaultLocalStorageSettingsOverride</span><span class="p">;</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="c1">// (1)</span>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="kd">const</span> <span class="nx">defaultSessionStorageSettingsOverride</span>: <span class="kt">IStorageSettings</span> <span class="o">=</span> <span class="p">{...</span><span class="nx">SessionStorage</span><span class="p">.</span><span class="nx">DefaultSettings</span><span class="p">,</span> <span class="p">...{</span> 
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>    <span class="nx">KeyPrefix</span><span class="o">:</span> <span class="s2">&quot;SPFxAppDevSession_&quot;</span><span class="p">,</span> 
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>    <span class="nx">DefaultTimeToLife</span>: <span class="kt">5</span><span class="p">,</span>
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a><span class="p">}};</span>
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a>
<a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a><span class="nx">SessionStorage</span><span class="p">.</span><span class="nx">DefaultSettings</span> <span class="o">=</span> <span class="nx">defaultSessionStorageSettingsOverride</span><span class="p">;</span>
</code></pre></div>
<ol>
<li>Use the spread operator to override only some options</li>
</ol>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>This only works if the settings were overwritten first and then the instances were created. Also, you then have to make sure that the overwritten code is imported everywhere (e.g. in the <code>boot</code> file).</p>
</div>
<h2 id="api">API<a class="headerlink" href="#api" title="Permanent link">&para;</a></h2>
<hr />
<p>The methods are the same regardless of the type of caching (<code>local</code> or <code>session</code>) you use.</p>
<h3 id="constructor"><code>constructor</code><a class="headerlink" href="#constructor" title="Permanent link">&para;</a></h3>
<hr />
<blockquote>
<p><code>constructor(customSettings?: IStorageSettings)</code></p>
</blockquote>
<p>When you create a new object instance, you can pass the <code>optional</code> parameter <code>customSettings</code>. See <a href="#usage">the usage section</a> on how to create a new instance or the <a href="#5-custom-settings">custom settings section</a> to pass your custom settings options.</p>
<h3 id="set"><code>set</code><a class="headerlink" href="#set" title="Permanent link">&para;</a></h3>
<hr />
<blockquote>
<p><code>set(cacheKey: string, cacheValue: any, timeToLife: number = 60)</code></p>
</blockquote>
<p>This method stores the passed <code>cacheValue</code> with the given <code>cacheKey</code> in the <code>localStorage</code> or <code>sessionStorage</code> container. The <code>timeToLife</code> argument is optional (default = 60 minutes) and determines when the cache should expire (in minutes). If a value with the <code>cacheKey</code> already exists, it will be overwritten with the new <code>cacheValue</code>.</p>
<p>After the value has been set, two keys exist in the respective storage. The second one has the suffix <code>_expire</code> which contains the timestamp as a value when the cache expires.</p>
<p>For example, if you store a value in <code>sessionStorage</code> in this way:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nx">sessionCache</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;mySessionStorageKey&quot;</span><span class="p">,</span> <span class="s2">&quot;mySessionStorageValue&quot;</span><span class="p">);</span>
</code></pre></div>
<p>The storage will then looks like this:</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>SPFxAppDev_mySessionStorageKey</td>
<td>mySessionStorageValue</td>
</tr>
<tr>
<td>SPFxAppDev_mySessionStorageKey_expire</td>
<td>1674594394115</td>
</tr>
</tbody>
</table>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>You can change the prefix as described in the <a href="#5-custom-settings">custom settings section</a></p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When objects are stored in the storage, they are serialized via <code>JSON.stringify()</code>. This means that all <code>methods</code> and <code>properties</code> that only have a <code>getter</code> will not be stored. In reverse it means that in <code>storage.get()</code> these <code>methods</code> and <code>getter</code> properties are also not present. </p>
</div>
<h3 id="get"><code>get</code><a class="headerlink" href="#get" title="Permanent link">&para;</a></h3>
<hr />
<blockquote>
<p><code>get(cacheKey: string, delegateFunction: Function|null = null, timeToLife: number = 60)</code></p>
</blockquote>
<p>This method returns the stored value of the specified <code>cacheKey</code>. The <code>cacheKey</code> corresponds to the same value as specified in the <a href="#set">set method</a>. If the <code>cacheKey</code> does not exist, or the key with the suffix <code>_expired</code> does not exist, or the cache has expired AND the <code>delegateFunction</code> is passed, then this function is executed and the return value of this function is used to store the value in the specified <code>cacheKey</code>. If the <code>delegateFunction</code> is not passed and the <code>cacheKey</code> does not exist, or the key with the suffix <code>_expired</code> does not exist, or the cache has expired, <code>null</code> is returned. The <code>timeToLife</code> (in minutes) argument is also optional and is used if <code>delegateFunction</code> is passed AND the cache value is (re)set.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Each <code>cacheKey</code> is stored with a <code>KeyPrefix</code>. If different instances exist that have different <code>KeyPrefix</code> values, only the value that has exactly this <code>KeyPrefix</code> is returned. That means if there is an instance that uses <code>one</code> as <code>KeyPrefix</code> and another that uses <code>two</code> as <code>KeyPrefix</code>, when the <code>set</code> method is executed with the same <code>cacheKey</code> (e.g. <code>test</code>), two different "storage" keys will be created. So the keys <code>one_test</code> and <code>two_test</code> exist. The <code>get("test")</code> method then returns only the value corresponding to the <code>{KeyPrefixOfCurrentInstance}_{cacheKey}</code>. =&gt; <code>instanceWithPrefixOne.get('test') //RETURNS 'test with keyPrefix "one"</code> and <code>instanceWithPrefixTwo.get('test') //RETURNS 'test with keyPrefix "two"</code></p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When objects are stored in the storage, they are serialized via <code>JSON.stringify()</code>. This means that all methods and <code>properties</code> that only have a <code>getter</code> will not be stored. In reverse it means that in <code>storage.get()</code> these methods and <code>getter</code> properties are also not present.</p>
</div>
<h3 id="remove"><code>remove</code><a class="headerlink" href="#remove" title="Permanent link">&para;</a></h3>
<hr />
<blockquote>
<p><code>remove(cacheKey: string)</code></p>
</blockquote>
<p>Removes the cached value from storage with the specified <code>cacheKey</code>. The <code>cacheKey</code> corresponds to the same value as specified in the <a href="#set">set method</a>.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Each <code>cacheKey</code> is stored with a <code>KeyPrefix</code>. If different instances exist that have different <code>KeyPrefix</code> values, only the value that has exactly this <code>KeyPrefix</code> is removed. </p>
</div>
<h3 id="clear"><code>clear</code><a class="headerlink" href="#clear" title="Permanent link">&para;</a></h3>
<hr />
<blockquote>
<p><code>clear()</code></p>
</blockquote>
<p>Removes any cached value from storage. But only the values that start with the <code>KeyPrefix</code> (=were set with this instance).</p>
<h3 id="exists"><code>exists</code><a class="headerlink" href="#exists" title="Permanent link">&para;</a></h3>
<hr />
<blockquote>
<p><code>exists(cacheKey: string)</code></p>
</blockquote>
<p>Checks if an item exist in storage cache with specified <code>cacheKey</code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>this is the generell <code>getItem</code>-Methode of the cache store. You have to pass the <code>KeyPrefix</code> for the <code>cacheKey</code> to return the values that you stored via the <a href="#set">set method</a>. Or use the <a href="#get">get method</a> instead.</p>
</div>
<h3 id="getstoragekeys"><code>getStorageKeys</code><a class="headerlink" href="#getstoragekeys" title="Permanent link">&para;</a></h3>
<hr />
<blockquote>
<p><code>getStorageKeys()</code></p>
</blockquote>
<p>Returns all <code>cacheKeys</code> as string array that start with the <code>KeyPrefix</code> but without the <code>_expired</code> keys.</p>
<h2 id="decorators">Decorators<a class="headerlink" href="#decorators" title="Permanent link">&para;</a></h2>
<hr />
<p>The caching decorators are helpful if you want to achieve a lot with less code and also fast. 
They help you to program your methods with logic only, without having to take caching into care. 
The decorators automatically return the cached value if it exists and has not expired (without calling the logic of the method). 
If there is nothing in the cache or the cache has expired, the logic of the method is called and the return value is automatically written to the cache.</p>
<p>In order to better understand how decorators work, I recommend reading <a href="https://medium.com/google-developers/exploring-es7-decorators-76ecb65fb841">this article</a>. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Simple definition</strong>: An ES2016 decorator is an expression which returns a function and can take a target, name and property descriptor as arguments. You apply it by prefixing the decorator with an @ character and placing this at the very top of what you are trying to decorate. Decorators can be defined for either a class, a method or a property.</p>
</div>
<p>Let's compare the same code <strong>without</strong> decorators and <strong>with</strong> decorators. The logic is not changed, but the result is the same:</p>
<table>
<tr>
<td>

<table class="highlighttable"><tr><th colspan="2" class="filename"><div class="highlight"><span class="filename">Simple class WITHOUT decorators</span></div></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-7-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-7-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-7-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-7-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-7-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-7-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-7-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-7-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-7-10">10</a></span>
<span class="normal"><a href="#__codelineno-7-11">11</a></span>
<span class="normal"><a href="#__codelineno-7-12">12</a></span>
<span class="normal"><a href="#__codelineno-7-13">13</a></span>
<span class="normal"><a href="#__codelineno-7-14">14</a></span>
<span class="normal"><a href="#__codelineno-7-15">15</a></span>
<span class="normal"><a href="#__codelineno-7-16">16</a></span>
<span class="normal"><a href="#__codelineno-7-17">17</a></span>
<span class="normal"><a href="#__codelineno-7-18">18</a></span>
<span class="normal"><a href="#__codelineno-7-19">19</a></span>
<span class="normal"><a href="#__codelineno-7-20">20</a></span>
<span class="normal"><a href="#__codelineno-7-21">21</a></span>
<span class="normal"><a href="#__codelineno-7-22">22</a></span>
<span class="normal"><a href="#__codelineno-7-23">23</a></span>
<span class="normal"><a href="#__codelineno-7-24">24</a></span>
<span class="normal"><a href="#__codelineno-7-25">25</a></span>
<span class="normal"><a href="#__codelineno-7-26">26</a></span>
<span class="normal"><a href="#__codelineno-7-27">27</a></span>
<span class="normal"><a href="#__codelineno-7-28">28</a></span>
<span class="normal"><a href="#__codelineno-7-29">29</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="kd">class</span> <span class="nx">MyExampleClass</span> <span class="p">{</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a>    <span class="k">private</span> <span class="nx">sesssionStorage</span>: <span class="kt">SessionStorage</span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a>    <span class="kr">constructor</span><span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a>        <span class="k">this</span><span class="p">.</span><span class="nx">sesssionStorage</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">SessionStorage</span><span class="p">();</span>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a>    <span class="p">}</span>
<a id="__codelineno-7-8" name="__codelineno-7-8"></a>
<a id="__codelineno-7-9" name="__codelineno-7-9"></a>    <span class="k">public</span> <span class="nx">getDummyDataPromise</span><span class="p">()</span><span class="o">:</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="kt">string</span><span class="o">&gt;</span> <span class="p">{</span>
<a id="__codelineno-7-10" name="__codelineno-7-10"></a>
<a id="__codelineno-7-11" name="__codelineno-7-11"></a>        <span class="k">this</span><span class="p">.</span><span class="nx">sesssionStorage</span><span class="p">.</span><span class="nx">logger</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;getDummyDataPromise START&quot;</span><span class="p">);</span>
<a id="__codelineno-7-12" name="__codelineno-7-12"></a>        <span class="kd">const</span> <span class="nx">cacheKey</span>: <span class="kt">string</span> <span class="o">=</span> <span class="s2">&quot;getDummyDataPromise&quot;</span><span class="p">;</span>
<a id="__codelineno-7-13" name="__codelineno-7-13"></a>        <span class="kd">const</span> <span class="nx">cacheData</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">sesssionStorage</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">cacheKey</span><span class="p">);</span>
<a id="__codelineno-7-14" name="__codelineno-7-14"></a>
<a id="__codelineno-7-15" name="__codelineno-7-15"></a>        <span class="k">if</span><span class="p">(</span><span class="nx">cacheData</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-7-16" name="__codelineno-7-16"></a>            <span class="k">this</span><span class="p">.</span><span class="nx">sesssionStorage</span><span class="p">.</span><span class="nx">logger</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;getDummyDataPromise get from cache&quot;</span><span class="p">);</span>
<a id="__codelineno-7-17" name="__codelineno-7-17"></a>            <span class="k">return</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">cacheData</span><span class="p">);</span>
<a id="__codelineno-7-18" name="__codelineno-7-18"></a>        <span class="p">}</span>
<a id="__codelineno-7-19" name="__codelineno-7-19"></a>
<a id="__codelineno-7-20" name="__codelineno-7-20"></a>        <span class="k">return</span> <span class="ow">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-7-21" name="__codelineno-7-21"></a>            <span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-7-22" name="__codelineno-7-22"></a>                <span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="s2">&quot;This data is from 5s Promise&quot;</span><span class="p">;</span>
<a id="__codelineno-7-23" name="__codelineno-7-23"></a>                <span class="k">this</span><span class="p">.</span><span class="nx">sesssionStorage</span><span class="p">.</span><span class="nx">logger</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;getDummyDataPromise get from Promise&quot;</span><span class="p">);</span>
<a id="__codelineno-7-24" name="__codelineno-7-24"></a>                <span class="k">this</span><span class="p">.</span><span class="nx">sesssionStorage</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">cacheKey</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
<a id="__codelineno-7-25" name="__codelineno-7-25"></a>                <span class="nx">resolve</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<a id="__codelineno-7-26" name="__codelineno-7-26"></a>            <span class="p">},</span> <span class="mf">5000</span><span class="p">);</span>
<a id="__codelineno-7-27" name="__codelineno-7-27"></a>        <span class="p">});</span>
<a id="__codelineno-7-28" name="__codelineno-7-28"></a>    <span class="p">}</span>
<a id="__codelineno-7-29" name="__codelineno-7-29"></a><span class="p">}</span>
</code></pre></div>
</td></tr></table>

</td>
<td>
<table class="highlighttable"><tr><th colspan="2" class="filename"><div class="highlight"><span class="filename">(Same) Simple class WITH decorators</span></div></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-8-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-8-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-8-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-8-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-8-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-8-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-8-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-8-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-8-10">10</a></span>
<span class="normal"><a href="#__codelineno-8-11">11</a></span>
<span class="normal"><a href="#__codelineno-8-12">12</a></span>
<span class="normal"><a href="#__codelineno-8-13">13</a></span>
<span class="normal"><a href="#__codelineno-8-14">14</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="kd">class</span> <span class="nx">MyExampleClass</span> <span class="p">{</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a>    <span class="kd">@sessionCache</span><span class="p">({</span>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a>        <span class="nx">key</span><span class="o">:</span> <span class="s2">&quot;getDummyDataPromise&quot;</span>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a>    <span class="p">})</span>
<a id="__codelineno-8-5" name="__codelineno-8-5"></a>    <span class="k">public</span> <span class="nx">getDummyDataPromise</span><span class="p">()</span><span class="o">:</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="kt">string</span><span class="o">&gt;</span> <span class="p">{</span>
<a id="__codelineno-8-6" name="__codelineno-8-6"></a>        <span class="k">return</span> <span class="ow">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-8-7" name="__codelineno-8-7"></a>            <span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-8-8" name="__codelineno-8-8"></a>                <span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="s2">&quot;This data is from 5s Promise&quot;</span><span class="p">;</span>
<a id="__codelineno-8-9" name="__codelineno-8-9"></a>                <span class="nx">resolve</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<a id="__codelineno-8-10" name="__codelineno-8-10"></a>            <span class="p">},</span> <span class="mf">5000</span><span class="p">);</span>
<a id="__codelineno-8-11" name="__codelineno-8-11"></a>        <span class="p">});</span>
<a id="__codelineno-8-12" name="__codelineno-8-12"></a>
<a id="__codelineno-8-13" name="__codelineno-8-13"></a>    <span class="p">}</span>
<a id="__codelineno-8-14" name="__codelineno-8-14"></a><span class="p">}</span>
</code></pre></div>
</td></tr></table>
</td>
<tr>
</table>

<p>Needless to say, decorators save a lot of time, reduce the number of lines (29 lines vs. 14 lines (~50% less)) and improve readability.</p>
<h3 id="how-to-use-decorators">How to use decorators<a class="headerlink" href="#how-to-use-decorators" title="Permanent link">&para;</a></h3>
<hr />
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>To use the method decorators, you must set the <code>experimentalDecorators</code> property in your <code>tsconfig.json</code> to <code>true</code>.</p>
</div>
<p>Here is a list of all available <code>method</code> decorators:</p>
<table>
<thead>
<tr>
<th>Decorator name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>@sessionCache</code></td>
<td>Return the cached value from <code>sessionStorage</code> (by the specified <code>cacheKey</code>) or store the return value of the method if the cache has expired or is not exists</td>
</tr>
<tr>
<td><code>@localCache</code></td>
<td>Return the cached value from <code>localStorage</code> (by the specified <code>cacheKey</code>) or store the return value of the method if the cache has expired or is not exists</td>
</tr>
<tr>
<td><code>@clearSessionCache</code></td>
<td>Removes the cached value from the <code>sessionStorage</code> (by the given <code>cacheKey</code>)</td>
</tr>
<tr>
<td><code>@clearLocalCache</code></td>
<td>Removes the cached value from the <code>localStorage</code> (by the given <code>cacheKey</code>)</td>
</tr>
</tbody>
</table>
<p>In order to use the decorators, they must be imported</p>
<div class="highlight"><span class="filename">import decorators</span><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="k">export</span> <span class="p">{</span> <span class="nx">sessionCache</span><span class="p">,</span> <span class="nx">localCache</span><span class="p">,</span> <span class="nx">clearSessionCache</span><span class="p">,</span> <span class="nx">clearLocalCache</span>  <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@spfxappdev/storage&#39;</span><span class="p">;</span>
</code></pre></div>
<h3 id="sessioncache"><code>@sessionCache</code><a class="headerlink" href="#sessioncache" title="Permanent link">&para;</a></h3>
<hr />
<p>The <code>storageCache</code> decorator stores the returned value of the method in the <code>sessionStorage</code> with the specified <code>key</code>. The code of the method is executed only if the cache has expired or does not exist. Additional <a href="#options-isessionstoragedecoratoroptionst">options</a> can be passed to the decorator.</p>
<h4 id="options-isessionstoragedecoratoroptionst">Options (<code>ISessionStorageDecoratorOptions&lt;T&gt;</code>)<a class="headerlink" href="#options-isessionstoragedecoratoroptionst" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>key</code></td>
<td><code>string | KeyFunction</code></td>
<td>Yes</td>
<td>A <code>cacheKey</code> as a <code>string</code> to be used for storage. Or <code>KeyFunction</code>, a <code>function</code> that returns a <code>string</code>. <a href="#keyfunction">Here</a> you can find more information about this function.</td>
<td>-</td>
</tr>
<tr>
<td><code>timeToLife</code></td>
<td><code>number</code></td>
<td>No</td>
<td>The <code>timeToLife</code> option is optional and determines when the cache should expire (in minutes).</td>
<td><code>SessionStorage.DefaultSettings.DefaultTimeToLife</code> see <a href="#5-custom-settings">here</a></td>
</tr>
<tr>
<td><code>keyPrefix</code></td>
<td><code>string</code></td>
<td>No</td>
<td>The prefix that is inserted before the <code>cacheKey</code></td>
<td><code>SessionStorage.DefaultSettings.KeyPrefix</code> see <a href="#5-custom-settings">here</a></td>
</tr>
<tr>
<td><code>sourceObj&lt;T&gt;</code></td>
<td><code>T</code></td>
<td>No</td>
<td>If <code>convertFromCache</code> option is not set but <code>sourceObj</code> is, a new instance of <code>T</code> is created (=&gt; parameterless <code>public costructor()</code> needed). After that all properties are set via <code>Object.assign</code>. <a href="#assign-properties-to-class-via-sourceobj">See samples</a></td>
<td>-</td>
</tr>
<tr>
<td><code>convertFromCache(cachedValue: any)</code></td>
<td><code>function</code></td>
<td>No</td>
<td>When objects are stored in the storage, they are serialized via <code>JSON.stringify()</code>. This means that all methods and <code>properties</code> that only have a <code>getter</code> will not be stored. In reverse it means that in <code>storage.get()</code> these methods and <code>getter</code> properties are also not present. If these methods and properties are to be returned, you can implement your own logic through this function that converts the cached value to the required object. <a href="#assign-properties-to-class-via-convertfromcache-method">See samples</a></td>
<td>-</td>
</tr>
</tbody>
</table>
<h3 id="localcache"><code>@localCache</code><a class="headerlink" href="#localcache" title="Permanent link">&para;</a></h3>
<hr />
<p>The <code>localCache</code> decorator stores the returned value of the method in the <code>localStorage</code> with the specified <code>key</code>. The code of the method is executed only if the cache has expired or does not exist. Additional <a href="#options-ilocalstoragedecoratoroptionst">options</a> can be passed to the decorator.</p>
<h4 id="options-ilocalstoragedecoratoroptionst">Options (<code>ILocalStorageDecoratorOptions&lt;T&gt;</code>)<a class="headerlink" href="#options-ilocalstoragedecoratoroptionst" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>key</code></td>
<td><code>string | KeyFunction</code></td>
<td>Yes</td>
<td>A <code>cacheKey</code> as a <code>string</code> to be used for storage. Or <code>KeyFunction</code>, a <code>function</code> that returns a <code>string</code>. <a href="#keyfunction">Here</a> you can find more information about this function.</td>
<td>-</td>
</tr>
<tr>
<td><code>timeToLife</code></td>
<td><code>number</code></td>
<td>No</td>
<td>The <code>timeToLife</code> option is optional and determines when the cache should expire (in minutes).</td>
<td><code>LocalStorage.DefaultSettings.DefaultTimeToLife</code> see <a href="#5-custom-settings">here</a></td>
</tr>
<tr>
<td><code>keyPrefix</code></td>
<td><code>string</code></td>
<td>No</td>
<td>The prefix that is inserted before the <code>cacheKey</code></td>
<td><code>LocalStorage.DefaultSettings.KeyPrefix</code> see <a href="#5-custom-settings">here</a></td>
</tr>
<tr>
<td><code>sourceObj&lt;T&gt;</code></td>
<td><code>T</code></td>
<td>No</td>
<td>If <code>convertFromCache</code> option is not set but <code>sourceObj</code> is, a new instance of <code>T</code> is created (=&gt; parameterless <code>public costructor()</code> needed). After that all properties are set via <code>Object.assign</code>. <a href="#assign-properties-to-class-via-sourceobj">See samples</a></td>
<td>-</td>
</tr>
<tr>
<td><code>convertFromCache(cachedValue: any)</code></td>
<td><code>function</code></td>
<td>No</td>
<td>When objects are stored in the storage, they are serialized via <code>JSON.stringify()</code>. This means that all methods and <code>properties</code> that only have a <code>getter</code> will not be stored. In reverse it means that in <code>storage.get()</code> these methods and <code>getter</code> properties are also not present. If these methods and properties are to be returned, you can implement your own logic through this function that converts the cached value to the required object. <a href="#assign-properties-to-class-via-convertfromcache-method">See samples</a></td>
<td>-</td>
</tr>
</tbody>
</table>
<h3 id="clearsessioncache"><code>@clearSessionCache</code><a class="headerlink" href="#clearsessioncache" title="Permanent link">&para;</a></h3>
<hr />
<p>With the <code>clearSessionCache</code> decorator a value with the given <code>key</code> can be removed from the <code>sessionStorage</code>. Additional <a href="#options-ilocalstoragedecoratoroptionst">options</a> can be passed to the decorator.</p>
<h4 id="options-iclearsessionstoragedecoratoroptions">Options (<code>IClearSessionStorageDecoratorOptions</code>)<a class="headerlink" href="#options-iclearsessionstoragedecoratoroptions" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>key</code></td>
<td><code>string | KeyFunction</code></td>
<td>Yes</td>
<td>The <code>cacheKey</code> (without <code>keyPrefix</code>) that should be removed from the storage. The <code>key</code> can be a <code>string</code> or <code>KeyFunction</code> (a <code>function</code> that returns a <code>string</code>) <a href="#keyfunction">Here</a> you can find more information about this function.</td>
<td>-</td>
</tr>
<tr>
<td><code>keyPrefix</code></td>
<td><code>string</code></td>
<td>No</td>
<td>The prefix that is inserted before the <code>cacheKey</code></td>
<td><code>SessionStorage.DefaultSettings.KeyPrefix</code> see <a href="#5-custom-settings">here</a></td>
</tr>
<tr>
<td><code>when</code></td>
<td><code>function</code></td>
<td>No</td>
<td><code>when</code> is an optional <code>function</code> which expects a <code>boolean</code> as return value. If <code>true</code> is returned, the <code>cacheKey</code> will be removed from the storage, otherwise not. In the function the <code>this.</code>-pointer can be used to access the class instance. In addition, all other passing parameters of the method to which the decorator is applied are also present (Exactly the same as with the <a href="#keyfunction">KeyFunction</a> or <a href="#clearlocalcache-combined-with-localcache">see samples</a>).</td>
<td>-</td>
</tr>
</tbody>
</table>
<h3 id="clearlocalcache"><code>@clearLocalCache</code><a class="headerlink" href="#clearlocalcache" title="Permanent link">&para;</a></h3>
<hr />
<p>With the <code>clearLocalCache</code> decorator a value with the given <code>key</code> can be removed from the <code>localStorage</code>. Additional <a href="#options-iclearlocalstoragedecoratoroptions">options</a> can be passed to the decorator.</p>
<h4 id="options-iclearlocalstoragedecoratoroptions">Options (<code>IClearLocalStorageDecoratorOptions</code>)<a class="headerlink" href="#options-iclearlocalstoragedecoratoroptions" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>key</code></td>
<td><code>string | KeyFunction</code></td>
<td>Yes</td>
<td>The <code>cacheKey</code> (without <code>keyPrefix</code>) that should be removed from the storage. The <code>key</code> can be a <code>string</code> or <code>KeyFunction</code> (a <code>function</code> that returns a <code>string</code>) <a href="#keyfunction">Here</a> you can find more information about this function.</td>
<td>-</td>
</tr>
<tr>
<td><code>keyPrefix</code></td>
<td><code>string</code></td>
<td>No</td>
<td>The prefix that is inserted before the <code>cacheKey</code></td>
<td><code>LocalStorage.DefaultSettings.KeyPrefix</code> see <a href="#5-custom-settings">here</a></td>
</tr>
<tr>
<td><code>when</code></td>
<td><code>function</code></td>
<td>No</td>
<td><code>when</code> is an optional <code>function</code> which expects a <code>boolean</code> as return value. If <code>true</code> is returned, the <code>cacheKey</code> will be removed from the storage, otherwise not. In the function the <code>this.</code>-pointer can be used to access the class instance. In addition, all other passing parameters of the method to which the decorator is applied are also present (Exactly the same as with the <a href="#keyfunction">KeyFunction</a> or <a href="#clearlocalcache-combined-with-localcache">see samples</a>).</td>
<td>-</td>
</tr>
</tbody>
</table>
<h3 id="keyfunction"><code>KeyFunction</code><a class="headerlink" href="#keyfunction" title="Permanent link">&para;</a></h3>
<hr />
<p>This type is a <code>function</code> which expects a <code>string</code> as return value. In the function the <code>this.</code>-pointer can be used to access the class instance. In addition, all other passing parameters of the method to which the decorator is applied are also present</p>
<p><table class="highlighttable"><tr><th colspan="2" class="filename"><div class="highlight"><span class="filename">Example with key as function</span></div></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-10-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-10-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-10-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-10-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-10-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-10-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-10-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-10-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-10-10">10</a></span>
<span class="normal"><a href="#__codelineno-10-11">11</a></span>
<span class="normal"><a href="#__codelineno-10-12">12</a></span>
<span class="normal"><a href="#__codelineno-10-13">13</a></span>
<span class="normal"><a href="#__codelineno-10-14">14</a></span>
<span class="normal"><a href="#__codelineno-10-15">15</a></span>
<span class="normal"><a href="#__codelineno-10-16">16</a></span>
<span class="normal"><a href="#__codelineno-10-17">17</a></span>
<span class="normal"><a href="#__codelineno-10-18">18</a></span>
<span class="normal"><a href="#__codelineno-10-19">19</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="kd">class</span> <span class="nx">MyExampleClass</span> <span class="p">{</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a>
<a id="__codelineno-10-3" name="__codelineno-10-3"></a>    <span class="k">private</span> <span class="nx">cacheKey</span>: <span class="kt">string</span> <span class="o">=</span> <span class="s1">&#39;getDummyDataPromise&#39;</span><span class="p">;</span>
<a id="__codelineno-10-4" name="__codelineno-10-4"></a>
<a id="__codelineno-10-5" name="__codelineno-10-5"></a>    <span class="kd">@sessionCache</span><span class="p">({</span>
<a id="__codelineno-10-6" name="__codelineno-10-6"></a><span class="hll">        <span class="nx">key</span><span class="o">:</span> <span class="p">(</span><span class="nx">param1</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">param2</span>: <span class="kt">number</span><span class="p">,</span> <span class="nx">paramN</span>: <span class="kt">any</span><span class="p">)</span><span class="o">:</span> <span class="kt">string</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><a id="__codelineno-10-7" name="__codelineno-10-7"></a>            <span class="k">return</span> <span class="p">(</span><span class="k">this</span> <span class="kr">as</span> <span class="nx">MyExampleClass</span><span class="p">).</span><span class="nx">cacheKey</span><span class="p">;</span>
<a id="__codelineno-10-8" name="__codelineno-10-8"></a>        <span class="p">}</span>
<a id="__codelineno-10-9" name="__codelineno-10-9"></a>    <span class="p">})</span>
<a id="__codelineno-10-10" name="__codelineno-10-10"></a><span class="hll">    <span class="k">public</span> <span class="nx">getDummyDataPromise</span><span class="p">(</span><span class="nx">param1</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">param2</span>: <span class="kt">number</span><span class="p">,</span> <span class="nx">paramN</span>: <span class="kt">any</span><span class="p">)</span><span class="o">:</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="kt">string</span><span class="o">&gt;</span> <span class="p">{</span>
</span><a id="__codelineno-10-11" name="__codelineno-10-11"></a>        <span class="k">return</span> <span class="ow">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-10-12" name="__codelineno-10-12"></a>            <span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-10-13" name="__codelineno-10-13"></a>                <span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="s2">&quot;This data is from 5s Promise&quot;</span><span class="p">;</span>
<a id="__codelineno-10-14" name="__codelineno-10-14"></a>                <span class="nx">resolve</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<a id="__codelineno-10-15" name="__codelineno-10-15"></a>            <span class="p">},</span> <span class="mf">5000</span><span class="p">);</span>
<a id="__codelineno-10-16" name="__codelineno-10-16"></a>        <span class="p">});</span>
<a id="__codelineno-10-17" name="__codelineno-10-17"></a>
<a id="__codelineno-10-18" name="__codelineno-10-18"></a>    <span class="p">}</span>
<a id="__codelineno-10-19" name="__codelineno-10-19"></a><span class="p">}</span>
</code></pre></div>
</td></tr></table>
As you can see in <code>line 6</code>, the parameters are the same as in the method (<code>line 10</code>). In <code>line 7</code> you can see how to access the current class instance.</p>
<h3 id="decorator-examples">Decorator examples<a class="headerlink" href="#decorator-examples" title="Permanent link">&para;</a></h3>
<hr />
<h4 id="simple-local-cache-decorator-example">Simple local cache decorator example<a class="headerlink" href="#simple-local-cache-decorator-example" title="Permanent link">&para;</a></h4>
<hr />
<table class="highlighttable"><tr><th colspan="2" class="filename"><div class="highlight"><span class="filename">Simple local cache decorator example</span></div></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-11-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-11-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-11-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-11-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-11-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-11-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-11-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-11-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-11-10">10</a></span>
<span class="normal"><a href="#__codelineno-11-11">11</a></span>
<span class="normal"><a href="#__codelineno-11-12">12</a></span>
<span class="normal"><a href="#__codelineno-11-13">13</a></span>
<span class="normal"><a href="#__codelineno-11-14">14</a></span>
<span class="normal"><a href="#__codelineno-11-15">15</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="kd">class</span> <span class="nx">MyExampleClass</span> <span class="p">{</span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a>
<a id="__codelineno-11-3" name="__codelineno-11-3"></a>    <span class="kd">@localCache</span><span class="p">({</span>
<a id="__codelineno-11-4" name="__codelineno-11-4"></a>        <span class="nx">key</span><span class="o">:</span> <span class="s2">&quot;getDummyDataPromise&quot;</span>
<a id="__codelineno-11-5" name="__codelineno-11-5"></a>    <span class="p">})</span>
<a id="__codelineno-11-6" name="__codelineno-11-6"></a>    <span class="k">public</span> <span class="nx">getDummyDataPromise</span><span class="p">(</span><span class="nx">param1</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">param2</span>: <span class="kt">number</span><span class="p">,</span> <span class="nx">paramN</span>: <span class="kt">any</span><span class="p">)</span><span class="o">:</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="kt">string</span><span class="o">&gt;</span> <span class="p">{</span>
<a id="__codelineno-11-7" name="__codelineno-11-7"></a>        <span class="k">return</span> <span class="ow">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-11-8" name="__codelineno-11-8"></a>            <span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-11-9" name="__codelineno-11-9"></a>                <span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="s2">&quot;This data is from 5s Promise&quot;</span><span class="p">;</span>
<a id="__codelineno-11-10" name="__codelineno-11-10"></a>                <span class="nx">resolve</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<a id="__codelineno-11-11" name="__codelineno-11-11"></a>            <span class="p">},</span> <span class="mf">5000</span><span class="p">);</span>
<a id="__codelineno-11-12" name="__codelineno-11-12"></a>        <span class="p">});</span>
<a id="__codelineno-11-13" name="__codelineno-11-13"></a>
<a id="__codelineno-11-14" name="__codelineno-11-14"></a>    <span class="p">}</span>
<a id="__codelineno-11-15" name="__codelineno-11-15"></a><span class="p">}</span>
</code></pre></div>
</td></tr></table>
<h4 id="local-cache-decorator-with-key-prefix">Local cache decorator with key prefix<a class="headerlink" href="#local-cache-decorator-with-key-prefix" title="Permanent link">&para;</a></h4>
<hr />
<table class="highlighttable"><tr><th colspan="2" class="filename"><div class="highlight"><span class="filename">Local cache decorator with key prefix</span></div></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-12-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-12-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-12-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-12-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-12-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-12-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-12-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-12-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-12-10">10</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="kd">class</span> <span class="nx">MyExampleClass</span> <span class="p">{</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a>
<a id="__codelineno-12-3" name="__codelineno-12-3"></a>    <span class="kd">@localCache</span><span class="p">({</span>
<a id="__codelineno-12-4" name="__codelineno-12-4"></a>        <span class="nx">key</span><span class="o">:</span> <span class="s2">&quot;getDummyDataPromise&quot;</span><span class="p">,</span>
<a id="__codelineno-12-5" name="__codelineno-12-5"></a>        <span class="nx">keyPrefix</span><span class="o">:</span> <span class="s1">&#39;HelloSPFx_&#39;</span> <span class="c1">// (1)</span>
<a id="__codelineno-12-6" name="__codelineno-12-6"></a>    <span class="p">})</span>
<a id="__codelineno-12-7" name="__codelineno-12-7"></a>    <span class="k">public</span> <span class="k">async</span> <span class="nx">getDummyDataPromise</span><span class="p">(</span><span class="nx">param1</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">param2</span>: <span class="kt">number</span><span class="p">,</span> <span class="nx">paramN</span>: <span class="kt">any</span><span class="p">)</span><span class="o">:</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="kt">string</span><span class="o">&gt;</span> <span class="p">{</span>
<a id="__codelineno-12-8" name="__codelineno-12-8"></a>        <span class="k">return</span> <span class="k">await</span> <span class="nx">anyPromiseFunc</span><span class="p">(</span><span class="nx">param1</span><span class="p">,</span> <span class="nx">param2</span><span class="p">,</span> <span class="nx">paramN</span><span class="p">);</span>
<a id="__codelineno-12-9" name="__codelineno-12-9"></a>    <span class="p">}</span>
<a id="__codelineno-12-10" name="__codelineno-12-10"></a><span class="p">}</span>
</code></pre></div>
</td></tr></table>
<ol>
<li>The generated storage keys are <code>HelloSPFx_getDummyDataPromise</code> and <code>HelloSPFx_getDummyDataPromise_expire</code></li>
</ol>
<h4 id="assign-properties-to-class-via-sourceobj">Assign properties to class via <code>sourceObj</code><a class="headerlink" href="#assign-properties-to-class-via-sourceobj" title="Permanent link">&para;</a></h4>
<hr />
<table class="highlighttable"><tr><th colspan="2" class="filename"><div class="highlight"><span class="filename">Assign properties to class via sourceObj</span></div></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-13-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-13-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-13-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-13-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-13-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-13-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-13-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-13-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-13-10">10</a></span>
<span class="normal"><a href="#__codelineno-13-11">11</a></span>
<span class="normal"><a href="#__codelineno-13-12">12</a></span>
<span class="normal"><a href="#__codelineno-13-13">13</a></span>
<span class="normal"><a href="#__codelineno-13-14">14</a></span>
<span class="normal"><a href="#__codelineno-13-15">15</a></span>
<span class="normal"><a href="#__codelineno-13-16">16</a></span>
<span class="normal"><a href="#__codelineno-13-17">17</a></span>
<span class="normal"><a href="#__codelineno-13-18">18</a></span>
<span class="normal"><a href="#__codelineno-13-19">19</a></span>
<span class="normal"><a href="#__codelineno-13-20">20</a></span>
<span class="normal"><a href="#__codelineno-13-21">21</a></span>
<span class="normal"><a href="#__codelineno-13-22">22</a></span>
<span class="normal"><a href="#__codelineno-13-23">23</a></span>
<span class="normal"><a href="#__codelineno-13-24">24</a></span>
<span class="normal"><a href="#__codelineno-13-25">25</a></span>
<span class="normal"><a href="#__codelineno-13-26">26</a></span>
<span class="normal"><a href="#__codelineno-13-27">27</a></span>
<span class="normal"><a href="#__codelineno-13-28">28</a></span>
<span class="normal"><a href="#__codelineno-13-29">29</a></span>
<span class="normal"><a href="#__codelineno-13-30">30</a></span>
<span class="normal"><a href="#__codelineno-13-31">31</a></span>
<span class="normal"><a href="#__codelineno-13-32">32</a></span>
<span class="normal"><a href="#__codelineno-13-33">33</a></span>
<span class="normal"><a href="#__codelineno-13-34">34</a></span>
<span class="normal"><a href="#__codelineno-13-35">35</a></span>
<span class="normal"><a href="#__codelineno-13-36">36</a></span>
<span class="normal"><a href="#__codelineno-13-37">37</a></span>
<span class="normal"><a href="#__codelineno-13-38">38</a></span>
<span class="normal"><a href="#__codelineno-13-39">39</a></span>
<span class="normal"><a href="#__codelineno-13-40">40</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="kd">class</span> <span class="nx">SimpleClassToConvert</span> <span class="p">{</span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a>    <span class="k">public</span> <span class="nx">prop1</span>: <span class="kt">string</span><span class="p">;</span>
<a id="__codelineno-13-3" name="__codelineno-13-3"></a>    <span class="k">public</span> <span class="nx">prop2</span>: <span class="kt">string</span><span class="p">;</span>
<a id="__codelineno-13-4" name="__codelineno-13-4"></a>    <span class="k">public</span> <span class="nx">prop3</span>: <span class="kt">number</span><span class="p">;</span>
<a id="__codelineno-13-5" name="__codelineno-13-5"></a>
<a id="__codelineno-13-6" name="__codelineno-13-6"></a>    <span class="k">public</span> <span class="nx">setDefaultProps</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">{</span>
<a id="__codelineno-13-7" name="__codelineno-13-7"></a>        <span class="k">this</span><span class="p">.</span><span class="nx">prop1</span> <span class="o">=</span> <span class="s2">&quot;Hello&quot;</span><span class="p">;</span>
<a id="__codelineno-13-8" name="__codelineno-13-8"></a>        <span class="k">this</span><span class="p">.</span><span class="nx">prop2</span> <span class="o">=</span> <span class="s2">&quot;SPFxAppDev&quot;</span><span class="p">;</span>
<a id="__codelineno-13-9" name="__codelineno-13-9"></a>        <span class="k">this</span><span class="p">.</span><span class="nx">prop3</span> <span class="o">=</span> <span class="mf">42</span><span class="p">;</span>
<a id="__codelineno-13-10" name="__codelineno-13-10"></a>    <span class="p">}</span>
<a id="__codelineno-13-11" name="__codelineno-13-11"></a>
<a id="__codelineno-13-12" name="__codelineno-13-12"></a>    <span class="k">public</span> <span class="nx">anotherFunc</span><span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-13-13" name="__codelineno-13-13"></a>
<a id="__codelineno-13-14" name="__codelineno-13-14"></a>    <span class="p">}</span>
<a id="__codelineno-13-15" name="__codelineno-13-15"></a><span class="p">}</span>
<a id="__codelineno-13-16" name="__codelineno-13-16"></a>
<a id="__codelineno-13-17" name="__codelineno-13-17"></a><span class="kd">class</span> <span class="nx">MyConvertFromSourceSampleClass</span> <span class="p">{</span>
<a id="__codelineno-13-18" name="__codelineno-13-18"></a>
<a id="__codelineno-13-19" name="__codelineno-13-19"></a>    <span class="kd">@localCache</span><span class="o">&lt;</span><span class="nx">SimpleClassToConvert</span><span class="o">&gt;</span><span class="p">({</span>
<a id="__codelineno-13-20" name="__codelineno-13-20"></a>        <span class="nx">key</span><span class="o">:</span> <span class="s2">&quot;MyConvertFromSourceSampleClass_getDummyDataPromise&quot;</span><span class="p">,</span>
<a id="__codelineno-13-21" name="__codelineno-13-21"></a>        <span class="nx">sourceObj</span>: <span class="kt">SimpleClassToConvert</span>
<a id="__codelineno-13-22" name="__codelineno-13-22"></a>    <span class="p">})</span>
<a id="__codelineno-13-23" name="__codelineno-13-23"></a>    <span class="k">public</span> <span class="nx">getDummyDataPromise</span><span class="p">()</span><span class="o">:</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">SimpleClassToConvert</span><span class="o">&gt;</span> <span class="p">{</span>
<a id="__codelineno-13-24" name="__codelineno-13-24"></a>        <span class="k">return</span> <span class="ow">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-13-25" name="__codelineno-13-25"></a>            <span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-13-26" name="__codelineno-13-26"></a>                <span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">SimpleClassToConvert</span><span class="p">();</span>
<a id="__codelineno-13-27" name="__codelineno-13-27"></a>                <span class="nx">data</span><span class="p">.</span><span class="nx">setDefaultProps</span><span class="p">();</span>
<a id="__codelineno-13-28" name="__codelineno-13-28"></a>                <span class="nx">resolve</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<a id="__codelineno-13-29" name="__codelineno-13-29"></a>            <span class="p">},</span> <span class="mf">5000</span><span class="p">);</span>
<a id="__codelineno-13-30" name="__codelineno-13-30"></a>        <span class="p">});</span>
<a id="__codelineno-13-31" name="__codelineno-13-31"></a>
<a id="__codelineno-13-32" name="__codelineno-13-32"></a>    <span class="p">}</span>
<a id="__codelineno-13-33" name="__codelineno-13-33"></a><span class="p">}</span>
<a id="__codelineno-13-34" name="__codelineno-13-34"></a>
<a id="__codelineno-13-35" name="__codelineno-13-35"></a><span class="kd">const</span> <span class="nx">convertFromSource</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">MyConvertFromSourceSampleClass</span><span class="p">();</span>
<a id="__codelineno-13-36" name="__codelineno-13-36"></a><span class="p">(</span><span class="k">async</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-13-37" name="__codelineno-13-37"></a>
<a id="__codelineno-13-38" name="__codelineno-13-38"></a>    <span class="kd">const</span> <span class="nx">simpleClassObj</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">convertFromSource</span><span class="p">.</span><span class="nx">getDummyDataPromise</span><span class="p">();</span>
<a id="__codelineno-13-39" name="__codelineno-13-39"></a>    <span class="c1">//Working with the simpleClassObj... (1)</span>
<a id="__codelineno-13-40" name="__codelineno-13-40"></a><span class="p">})();</span>
</code></pre></div>
</td></tr></table>
<ol>
<li>No matter if it comes from the cache or from the method, in both cases the object is returned with all methods and properties.</li>
</ol>
<h4 id="assign-properties-to-class-via-convertfromcache-method">Assign properties to class via <code>convertFromCache</code>-method<a class="headerlink" href="#assign-properties-to-class-via-convertfromcache-method" title="Permanent link">&para;</a></h4>
<hr />
<table class="highlighttable"><tr><th colspan="2" class="filename"><div class="highlight"><span class="filename">Assign properties to class via convertFromCache-method</span></div></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-14-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-14-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-14-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-14-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-14-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-14-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-14-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-14-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-14-10">10</a></span>
<span class="normal"><a href="#__codelineno-14-11">11</a></span>
<span class="normal"><a href="#__codelineno-14-12">12</a></span>
<span class="normal"><a href="#__codelineno-14-13">13</a></span>
<span class="normal"><a href="#__codelineno-14-14">14</a></span>
<span class="normal"><a href="#__codelineno-14-15">15</a></span>
<span class="normal"><a href="#__codelineno-14-16">16</a></span>
<span class="normal"><a href="#__codelineno-14-17">17</a></span>
<span class="normal"><a href="#__codelineno-14-18">18</a></span>
<span class="normal"><a href="#__codelineno-14-19">19</a></span>
<span class="normal"><a href="#__codelineno-14-20">20</a></span>
<span class="normal"><a href="#__codelineno-14-21">21</a></span>
<span class="normal"><a href="#__codelineno-14-22">22</a></span>
<span class="normal"><a href="#__codelineno-14-23">23</a></span>
<span class="normal"><a href="#__codelineno-14-24">24</a></span>
<span class="normal"><a href="#__codelineno-14-25">25</a></span>
<span class="normal"><a href="#__codelineno-14-26">26</a></span>
<span class="normal"><a href="#__codelineno-14-27">27</a></span>
<span class="normal"><a href="#__codelineno-14-28">28</a></span>
<span class="normal"><a href="#__codelineno-14-29">29</a></span>
<span class="normal"><a href="#__codelineno-14-30">30</a></span>
<span class="normal"><a href="#__codelineno-14-31">31</a></span>
<span class="normal"><a href="#__codelineno-14-32">32</a></span>
<span class="normal"><a href="#__codelineno-14-33">33</a></span>
<span class="normal"><a href="#__codelineno-14-34">34</a></span>
<span class="normal"><a href="#__codelineno-14-35">35</a></span>
<span class="normal"><a href="#__codelineno-14-36">36</a></span>
<span class="normal"><a href="#__codelineno-14-37">37</a></span>
<span class="normal"><a href="#__codelineno-14-38">38</a></span>
<span class="normal"><a href="#__codelineno-14-39">39</a></span>
<span class="normal"><a href="#__codelineno-14-40">40</a></span>
<span class="normal"><a href="#__codelineno-14-41">41</a></span>
<span class="normal"><a href="#__codelineno-14-42">42</a></span>
<span class="normal"><a href="#__codelineno-14-43">43</a></span>
<span class="normal"><a href="#__codelineno-14-44">44</a></span>
<span class="normal"><a href="#__codelineno-14-45">45</a></span>
<span class="normal"><a href="#__codelineno-14-46">46</a></span>
<span class="normal"><a href="#__codelineno-14-47">47</a></span>
<span class="normal"><a href="#__codelineno-14-48">48</a></span>
<span class="normal"><a href="#__codelineno-14-49">49</a></span>
<span class="normal"><a href="#__codelineno-14-50">50</a></span>
<span class="normal"><a href="#__codelineno-14-51">51</a></span>
<span class="normal"><a href="#__codelineno-14-52">52</a></span>
<span class="normal"><a href="#__codelineno-14-53">53</a></span>
<span class="normal"><a href="#__codelineno-14-54">54</a></span>
<span class="normal"><a href="#__codelineno-14-55">55</a></span>
<span class="normal"><a href="#__codelineno-14-56">56</a></span>
<span class="normal"><a href="#__codelineno-14-57">57</a></span>
<span class="normal"><a href="#__codelineno-14-58">58</a></span>
<span class="normal"><a href="#__codelineno-14-59">59</a></span>
<span class="normal"><a href="#__codelineno-14-60">60</a></span>
<span class="normal"><a href="#__codelineno-14-61">61</a></span>
<span class="normal"><a href="#__codelineno-14-62">62</a></span>
<span class="normal"><a href="#__codelineno-14-63">63</a></span>
<span class="normal"><a href="#__codelineno-14-64">64</a></span>
<span class="normal"><a href="#__codelineno-14-65">65</a></span>
<span class="normal"><a href="#__codelineno-14-66">66</a></span>
<span class="normal"><a href="#__codelineno-14-67">67</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="kd">class</span> <span class="nx">DataClassToConvert</span> <span class="p">{</span>
<a id="__codelineno-14-2" name="__codelineno-14-2"></a>    <span class="k">public</span> <span class="k">readonly</span> <span class="nx">id</span>: <span class="kt">string</span><span class="p">;</span>
<a id="__codelineno-14-3" name="__codelineno-14-3"></a>
<a id="__codelineno-14-4" name="__codelineno-14-4"></a>    <span class="k">public</span> <span class="nx">get</span> <span class="nx">isPublished</span><span class="p">()</span><span class="o">:</span> <span class="kt">boolean</span> <span class="p">{</span>
<a id="__codelineno-14-5" name="__codelineno-14-5"></a>        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">version</span> <span class="o">&gt;</span> <span class="mf">0</span><span class="p">;</span>
<a id="__codelineno-14-6" name="__codelineno-14-6"></a>    <span class="p">}</span>
<a id="__codelineno-14-7" name="__codelineno-14-7"></a>
<a id="__codelineno-14-8" name="__codelineno-14-8"></a>    <span class="k">public</span> <span class="nx">version</span>: <span class="kt">number</span><span class="p">;</span>
<a id="__codelineno-14-9" name="__codelineno-14-9"></a>
<a id="__codelineno-14-10" name="__codelineno-14-10"></a>    <span class="k">private</span> <span class="kr">constructor</span><span class="p">(</span><span class="nx">id</span>: <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-14-11" name="__codelineno-14-11"></a>        <span class="k">this</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="nx">id</span><span class="p">;</span>
<a id="__codelineno-14-12" name="__codelineno-14-12"></a>        <span class="k">this</span><span class="p">.</span><span class="nx">version</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span>
<a id="__codelineno-14-13" name="__codelineno-14-13"></a>    <span class="p">}</span>
<a id="__codelineno-14-14" name="__codelineno-14-14"></a>
<a id="__codelineno-14-15" name="__codelineno-14-15"></a>    <span class="k">public</span> <span class="k">static</span> <span class="nx">ConvertFromCacheCollection</span><span class="p">(</span><span class="nx">cachedValue</span>: <span class="kt">any</span><span class="p">)</span><span class="o">:</span> <span class="nx">DataClassToConvert</span><span class="p">[]</span> <span class="p">{</span>
<a id="__codelineno-14-16" name="__codelineno-14-16"></a>
<a id="__codelineno-14-17" name="__codelineno-14-17"></a>        <span class="kd">const</span> <span class="nx">resultValue</span>: <span class="kt">DataClassToConvert</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[];</span>
<a id="__codelineno-14-18" name="__codelineno-14-18"></a>        <span class="p">(</span><span class="nx">cachedValue</span> <span class="kr">as</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="nx">any</span><span class="o">&gt;</span><span class="p">).</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">val</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-14-19" name="__codelineno-14-19"></a>
<a id="__codelineno-14-20" name="__codelineno-14-20"></a>            <span class="kd">const</span> <span class="nx">instance</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">DataClassToConvert</span><span class="p">(</span><span class="nx">val</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
<a id="__codelineno-14-21" name="__codelineno-14-21"></a>            <span class="p">(</span><span class="nb">Object</span> <span class="kr">as</span> <span class="nx">any</span><span class="p">).</span><span class="nx">assign</span><span class="p">(</span><span class="nx">instance</span><span class="p">,</span> <span class="nx">val</span><span class="p">);</span>
<a id="__codelineno-14-22" name="__codelineno-14-22"></a>            <span class="nx">resultValue</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">instance</span><span class="p">);</span>
<a id="__codelineno-14-23" name="__codelineno-14-23"></a>        <span class="p">});</span>
<a id="__codelineno-14-24" name="__codelineno-14-24"></a>
<a id="__codelineno-14-25" name="__codelineno-14-25"></a>        <span class="k">return</span> <span class="nx">resultValue</span><span class="p">;</span>
<a id="__codelineno-14-26" name="__codelineno-14-26"></a>    <span class="p">}</span>
<a id="__codelineno-14-27" name="__codelineno-14-27"></a>
<a id="__codelineno-14-28" name="__codelineno-14-28"></a>    <span class="k">public</span> <span class="k">static</span> <span class="nx">CreateDummyData</span><span class="p">()</span><span class="o">:</span> <span class="nx">DataClassToConvert</span><span class="p">[]</span> <span class="p">{</span>
<a id="__codelineno-14-29" name="__codelineno-14-29"></a>        <span class="kd">const</span> <span class="nx">resultValue</span>: <span class="kt">DataClassToConvert</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[];</span>
<a id="__codelineno-14-30" name="__codelineno-14-30"></a>
<a id="__codelineno-14-31" name="__codelineno-14-31"></a>        <span class="kd">const</span> <span class="nx">c1</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">DataClassToConvert</span><span class="p">(</span><span class="s2">&quot;abc&quot;</span><span class="p">);</span>
<a id="__codelineno-14-32" name="__codelineno-14-32"></a>        <span class="nx">resultValue</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">c1</span><span class="p">);</span>
<a id="__codelineno-14-33" name="__codelineno-14-33"></a>
<a id="__codelineno-14-34" name="__codelineno-14-34"></a>        <span class="kd">const</span> <span class="nx">c2</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">DataClassToConvert</span><span class="p">(</span><span class="s2">&quot;def&quot;</span><span class="p">);</span>
<a id="__codelineno-14-35" name="__codelineno-14-35"></a>        <span class="nx">c2</span><span class="p">.</span><span class="nx">version</span> <span class="o">=</span> <span class="mf">1</span><span class="p">;</span>
<a id="__codelineno-14-36" name="__codelineno-14-36"></a>        <span class="nx">resultValue</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">c2</span><span class="p">);</span>       
<a id="__codelineno-14-37" name="__codelineno-14-37"></a>
<a id="__codelineno-14-38" name="__codelineno-14-38"></a>        <span class="k">return</span> <span class="nx">resultValue</span><span class="p">;</span>
<a id="__codelineno-14-39" name="__codelineno-14-39"></a>    <span class="p">}</span>
<a id="__codelineno-14-40" name="__codelineno-14-40"></a>
<a id="__codelineno-14-41" name="__codelineno-14-41"></a><span class="p">}</span>
<a id="__codelineno-14-42" name="__codelineno-14-42"></a>
<a id="__codelineno-14-43" name="__codelineno-14-43"></a><span class="kd">class</span> <span class="nx">MyConvertFromCacheSampleClass</span> <span class="p">{</span>
<a id="__codelineno-14-44" name="__codelineno-14-44"></a>
<a id="__codelineno-14-45" name="__codelineno-14-45"></a>    <span class="kd">@localCache</span><span class="p">({</span>
<a id="__codelineno-14-46" name="__codelineno-14-46"></a>        <span class="nx">key</span><span class="o">:</span> <span class="s2">&quot;MyConvertFromCacheSampleClass_getDummyDataPromise&quot;</span><span class="p">,</span>
<a id="__codelineno-14-47" name="__codelineno-14-47"></a>        <span class="nx">convertFromCache</span><span class="o">:</span> <span class="p">(</span><span class="nx">cachedValue</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-14-48" name="__codelineno-14-48"></a>            <span class="k">return</span> <span class="nx">DataClassToConvert</span><span class="p">.</span><span class="nx">ConvertFromCacheCollection</span><span class="p">(</span><span class="nx">cachedValue</span><span class="p">);</span>
<a id="__codelineno-14-49" name="__codelineno-14-49"></a>        <span class="p">}</span>
<a id="__codelineno-14-50" name="__codelineno-14-50"></a>    <span class="p">})</span>
<a id="__codelineno-14-51" name="__codelineno-14-51"></a>    <span class="k">public</span> <span class="nx">getDummyDataPromise</span><span class="p">()</span><span class="o">:</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">DataClassToConvert</span><span class="p">[]</span><span class="o">&gt;</span> <span class="p">{</span>
<a id="__codelineno-14-52" name="__codelineno-14-52"></a>        <span class="k">return</span> <span class="ow">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-14-53" name="__codelineno-14-53"></a>            <span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-14-54" name="__codelineno-14-54"></a>                <span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">DataClassToConvert</span><span class="p">.</span><span class="nx">CreateDummyData</span><span class="p">();</span>
<a id="__codelineno-14-55" name="__codelineno-14-55"></a>                <span class="nx">resolve</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<a id="__codelineno-14-56" name="__codelineno-14-56"></a>            <span class="p">},</span> <span class="mf">5000</span><span class="p">);</span>
<a id="__codelineno-14-57" name="__codelineno-14-57"></a>        <span class="p">});</span>
<a id="__codelineno-14-58" name="__codelineno-14-58"></a>
<a id="__codelineno-14-59" name="__codelineno-14-59"></a>    <span class="p">}</span>
<a id="__codelineno-14-60" name="__codelineno-14-60"></a><span class="p">}</span>
<a id="__codelineno-14-61" name="__codelineno-14-61"></a>
<a id="__codelineno-14-62" name="__codelineno-14-62"></a><span class="kd">const</span> <span class="nx">convertFromCache</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">MyConvertFromCacheSampleClass</span><span class="p">();</span>
<a id="__codelineno-14-63" name="__codelineno-14-63"></a><span class="p">(</span><span class="k">async</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-14-64" name="__codelineno-14-64"></a>
<a id="__codelineno-14-65" name="__codelineno-14-65"></a>    <span class="kd">const</span> <span class="nx">dataClassToConvertObj</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">convertFromCache</span><span class="p">.</span><span class="nx">getDummyDataPromise</span><span class="p">();</span>
<a id="__codelineno-14-66" name="__codelineno-14-66"></a>    <span class="c1">//Working with the dataClassToConvertObj... (1)</span>
<a id="__codelineno-14-67" name="__codelineno-14-67"></a><span class="p">})();</span>
</code></pre></div>
</td></tr></table>
<ol>
<li>No matter if it comes from the cache or from the method, in both cases the object of type <code>DataClassToConvert</code> is returned with all methods and properties.</li>
</ol>
<h4 id="clear-session-cache">Clear session cache<a class="headerlink" href="#clear-session-cache" title="Permanent link">&para;</a></h4>
<hr />
<table class="highlighttable"><tr><th colspan="2" class="filename"><div class="highlight"><span class="filename">Clear session cache</span></div></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-15-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-15-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-15-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-15-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-15-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-15-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-15-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-15-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-15-10">10</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="kd">class</span> <span class="nx">MyExampleClass</span> <span class="p">{</span>
<a id="__codelineno-15-2" name="__codelineno-15-2"></a>
<a id="__codelineno-15-3" name="__codelineno-15-3"></a>    <span class="kd">@clearSessionCache</span><span class="p">({</span>
<a id="__codelineno-15-4" name="__codelineno-15-4"></a>        <span class="nx">key</span><span class="o">:</span> <span class="s2">&quot;aKeyWithoutPrefix&quot;</span><span class="p">,</span>
<a id="__codelineno-15-5" name="__codelineno-15-5"></a>        <span class="nx">keyPrefix</span><span class="o">:</span> <span class="s1">&#39;&#39;</span> <span class="c1">// (1)</span>
<a id="__codelineno-15-6" name="__codelineno-15-6"></a>    <span class="p">})</span>
<a id="__codelineno-15-7" name="__codelineno-15-7"></a>    <span class="k">public</span> <span class="nx">getDummyDataPromise</span><span class="p">(</span><span class="nx">param1</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">param2</span>: <span class="kt">number</span><span class="p">,</span> <span class="nx">paramN</span>: <span class="kt">any</span><span class="p">)</span><span class="o">:</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="kt">string</span><span class="o">&gt;</span> <span class="p">{</span>
<a id="__codelineno-15-8" name="__codelineno-15-8"></a>        <span class="k">return</span> <span class="k">await</span> <span class="nx">anyPromiseFunc</span><span class="p">(</span><span class="nx">param1</span><span class="p">,</span> <span class="nx">param2</span><span class="p">,</span> <span class="nx">paramN</span><span class="p">);</span>
<a id="__codelineno-15-9" name="__codelineno-15-9"></a>    <span class="p">}</span>
<a id="__codelineno-15-10" name="__codelineno-15-10"></a><span class="p">}</span>
</code></pre></div>
</td></tr></table>
<ol>
<li>The "key prefix" is empty. This is useful if you want to remove a value from memory that has no prefix (for example from another application)</li>
</ol>
<h4 id="clearlocalcache-combined-with-localcache"><code>@clearLocalCache</code> combined with <code>@localCache</code><a class="headerlink" href="#clearlocalcache-combined-with-localcache" title="Permanent link">&para;</a></h4>
<hr />
<table class="highlighttable"><tr><th colspan="2" class="filename"><div class="highlight"><span class="filename">@clearLocalCache combined with @localCache</span></div></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-16-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-16-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-16-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-16-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-16-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-16-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-16-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-16-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-16-10">10</a></span>
<span class="normal"><a href="#__codelineno-16-11">11</a></span>
<span class="normal"><a href="#__codelineno-16-12">12</a></span>
<span class="normal"><a href="#__codelineno-16-13">13</a></span>
<span class="normal"><a href="#__codelineno-16-14">14</a></span>
<span class="normal"><a href="#__codelineno-16-15">15</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="kd">class</span> <span class="nx">MyExampleClass</span> <span class="p">{</span>
<a id="__codelineno-16-2" name="__codelineno-16-2"></a>
<a id="__codelineno-16-3" name="__codelineno-16-3"></a>    <span class="kd">@clearLocalCache</span><span class="p">({</span>
<a id="__codelineno-16-4" name="__codelineno-16-4"></a>        <span class="nx">key</span><span class="o">:</span> <span class="s2">&quot;myKey&quot;</span><span class="p">,</span>
<a id="__codelineno-16-5" name="__codelineno-16-5"></a>        <span class="nx">when</span><span class="o">:</span> <span class="p">(</span><span class="nx">param1</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">refreshCache</span>: <span class="kt">boolean</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-16-6" name="__codelineno-16-6"></a>            <span class="k">return</span> <span class="nx">refreshCache</span><span class="p">;</span> <span class="c1">// (1)</span>
<a id="__codelineno-16-7" name="__codelineno-16-7"></a>        <span class="p">}</span>
<a id="__codelineno-16-8" name="__codelineno-16-8"></a>    <span class="p">})</span>
<a id="__codelineno-16-9" name="__codelineno-16-9"></a>    <span class="kd">@localCache</span><span class="p">({</span> <span class="c1">// (2)</span>
<a id="__codelineno-16-10" name="__codelineno-16-10"></a>        <span class="nx">key</span><span class="o">:</span> <span class="s2">&quot;myKey&quot;</span><span class="p">,</span>
<a id="__codelineno-16-11" name="__codelineno-16-11"></a>    <span class="p">})</span>
<a id="__codelineno-16-12" name="__codelineno-16-12"></a>    <span class="k">public</span> <span class="nx">getDummyDataPromise</span><span class="p">(</span><span class="nx">param1</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">refreshCache</span>: <span class="kt">boolean</span><span class="p">)</span><span class="o">:</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="kt">string</span><span class="o">&gt;</span> <span class="p">{</span>
<a id="__codelineno-16-13" name="__codelineno-16-13"></a>        <span class="k">return</span> <span class="k">await</span> <span class="nx">anyPromiseFunc</span><span class="p">(</span><span class="nx">param1</span><span class="p">,</span> <span class="nx">param2</span><span class="p">,</span> <span class="nx">paramN</span><span class="p">);</span>
<a id="__codelineno-16-14" name="__codelineno-16-14"></a>    <span class="p">}</span>
<a id="__codelineno-16-15" name="__codelineno-16-15"></a><span class="p">}</span>
</code></pre></div>
</td></tr></table>
<ol>
<li>The parameters are the same as in the method (<code>line 12</code>). In the function the <code>this.</code>-pointer can be used to access the class instance</li>
<li>The order is important. First you have to check if the cache should be cleared. Otherwise the <code>clearLocalCache</code> decorator will not be executed because the <code>localCache</code> method will not execute a method when returned value from the cache.</li>
</ol>
<h2 id="clear-storage-via-url-parameters">Clear storage via URL parameters<a class="headerlink" href="#clear-storage-via-url-parameters" title="Permanent link">&para;</a></h2>
<hr />
<p>Via the URL parameters the stored data can be deleted either completely or only certain ones. The names of the parameters are defined globally or per instance (see <a href="#5-custom-settings">custom settings</a>).</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Deleting via URL parameters only works if the cache has been called at least once on the page via the <code>get</code> method. For example, if only the <code>SessionStorage.get()</code> is used, then only <code>sessionStorage</code> will be cleared, but not <code>localStorage</code>. If nothing is used, then nothing is cleared. It is also applied only to the instances that use the same URL parameter configurations (<code>IStorageSettings.UrlParameter</code>) <strong>AND</strong> <code>keyPrefix</code>.</p>
</div>
<h3 id="delete-all-via-url">Delete all via URL<a class="headerlink" href="#delete-all-via-url" title="Permanent link">&para;</a></h3>
<hr />
<p>By default, the URL parameter <code>ResetCache</code> is used for both <code>LocalStorage</code> and <code>SessionStorage</code>. If you want to set another one, you have to override it (see <a href="#5-custom-settings">custom settings</a>).</p>
<p>If you want to clear the complete cache, you have to specify the corresponding URL parameter. The following example refers to the default URL parameter <code>ResetCache</code>. The value of the parameter does not matter, it just has to be present in the URL </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>http://localhost:1234?ResetCache=1
</code></pre></div>
<h3 id="remove-only-specific-values-via-url">Remove only specific values via URL<a class="headerlink" href="#remove-only-specific-values-via-url" title="Permanent link">&para;</a></h3>
<hr />
<p>By default, the URL parameter <code>ResetOnly</code> is used for both <code>LocalStorage</code> and <code>SessionStorage</code>. If you want to set another one, you have to override it (see <a href="#5-custom-settings">custom settings</a>).</p>
<p>If you want to clear a specific value, you have to specify the corresponding URL parameter. The following example refers to the default URL parameter <code>ResetOnly</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>http://localhost:1234?ResetOnly=mySessionStorageKey
</code></pre></div>
<p>You can delete multiple cached values by separating the keys with a comma</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>http://localhost:1234?ResetOnly=mySessionStorageKey,myLocalStorageKey
</code></pre></div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2021 - 2023 Sergej Schwabauer
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://www.linkedin.com/in/sergej-schwabauer-a26b5267/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://github.com/SPFxAppDev" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://twitter.com/spfxappdev" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": ".", "features": ["toc.integrate", "navigation.tabs", "navigation.sections", "content.code.annotate"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "assets/javascripts/workers/search.bd0b6b67.min.js", "version": {"provider": "mike"}}</script>
    
    
      <script src="assets/javascripts/bundle.8aa65030.min.js"></script>
      
    
  </body>
</html>